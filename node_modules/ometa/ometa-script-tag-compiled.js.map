{"version":3,"sources":["ometa-script-tag.js"],"names":[],"mappings":"AAAA,SAAS,aAAT,CAAuB,CAAvB,EAA0B;AACxB,MAAI,mBAAmB,SAAnB,gBAAmB,CAAS,CAAT,EAAY,CAAZ,EAAe;AAAE,UAAM,kDAAN,EAA2D,MAAM,IAAN;AAAY,GAA/G;AAAA,MACI,OAAmB,gBAAgB,QAAhB,CAAyB,CAAzB,EAA4B,UAA5B,EAAwC,SAAxC,EAAmD,UAAS,CAAT,EAAY,CAAZ,EAAe;AACb,UAAM,sBAAsB,IAAtB,EAA4B,EAAC,UAAU,CAAX,EAA5B,CAAN;AAAkD,GADvG,CADvB;AAGA,SAAO,oBAAoB,KAApB,CAA0B,IAA1B,EAAgC,OAAhC,EAAyC,SAAzC,EAAoD,gBAApD,CAAP;AACD;;AAED,aAAa,OAAO,MAApB;AACA,OAAO,MAAP,GAAgB,YAAW;AACzB,MAAI,UAAU,SAAS,oBAAT,CAA8B,QAA9B,CAAd;AACA,OAAK,IAAI,MAAM,CAAf,EAAkB,MAAM,QAAQ,MAAhC,EAAwC,KAAxC,EAA+C;AAC7C,QAAI,SAAS,QAAQ,GAAR,CAAb;AACA,QAAI,OAAO,IAAP,KAAgB,iBAApB,EACE,KAAK,cAAc,OAAO,SAArB,CAAL;AACH;AACD,MAAI,OAAO,UAAP,KAAsB,QAA1B,EACE,KAAK,UAAL,EADF,KAEK,IAAI,OAAO,UAAP,KAAsB,UAA1B,EACH;AACH,CAXD","file":"ometa-script-tag-compiled.js","sourcesContent":["function translateCode(s) {\n  var translationError = function(m, i) { alert(\"Translation error - please tell Alex about this!\"); throw fail },\n      tree             = BSOMetaJSParser.matchAll(s, \"topLevel\", undefined, function(m, i) {\n                                                                              throw objectThatDelegatesTo(fail, {errorPos: i}) })\n  return BSOMetaJSTranslator.match(tree, \"trans\", undefined, translationError)\n}\n   \norigOnload = window.onload\nwindow.onload = function() {\n  var scripts = document.getElementsByTagName(\"script\")\n  for (var idx = 0; idx < scripts.length; idx++) {\n    var script = scripts[idx]\n    if (script.type === \"text/x-ometa-js\")\n      eval(translateCode(script.innerHTML))\n  }\n  if (typeof origOnload === \"string\")\n    eval(origOnload)\n  else if (typeof origOnload === \"function\")\n    origOnload()\n}\n\n"]}