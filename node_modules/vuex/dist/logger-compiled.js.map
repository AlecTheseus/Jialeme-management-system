{"version":3,"sources":["logger.js"],"names":[],"mappings":"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","file":"logger-compiled.js","sourcesContent":["(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.createVuexLogger = factory());\n}(this, (function () { 'use strict';\n\n/**\n * Get the first item that pass the test\n * by second argument function\n *\n * @param {Array} list\n * @param {Function} f\n * @return {*}\n */\nfunction find (list, f) {\n  return list.filter(f)[0]\n}\n\n/**\n * Deep copy the given object considering circular structure.\n * This function caches all nested objects and its copies.\n * If it detects circular structure, use cached copy to avoid infinite loop.\n *\n * @param {*} obj\n * @param {Array<Object>} cache\n * @return {*}\n */\nfunction deepCopy (obj, cache) {\n  if ( cache === void 0 ) cache = [];\n\n  // just return if obj is immutable value\n  if (obj === null || typeof obj !== 'object') {\n    return obj\n  }\n\n  // if obj is hit, it is in circular structure\n  var hit = find(cache, function (c) { return c.original === obj; });\n  if (hit) {\n    return hit.copy\n  }\n\n  var copy = Array.isArray(obj) ? [] : {};\n  // put the copy into cache at first\n  // because we want to refer it in recursive deepCopy\n  cache.push({\n    original: obj,\n    copy: copy\n  });\n\n  Object.keys(obj).forEach(function (key) {\n    copy[key] = deepCopy(obj[key], cache);\n  });\n\n  return copy\n}\n\n/**\n * forEach for object\n */\n\n// Credits: borrowed code from fcomb/redux-logger\n\nfunction createLogger (ref) {\n  if ( ref === void 0 ) ref = {};\n  var collapsed = ref.collapsed; if ( collapsed === void 0 ) collapsed = true;\n  var transformer = ref.transformer; if ( transformer === void 0 ) transformer = function (state) { return state; };\n  var mutationTransformer = ref.mutationTransformer; if ( mutationTransformer === void 0 ) mutationTransformer = function (mut) { return mut; };\n\n  return function (store) {\n    var prevState = deepCopy(store.state);\n\n    store.subscribe(function (mutation, state) {\n      if (typeof console === 'undefined') {\n        return\n      }\n      var nextState = deepCopy(state);\n      var time = new Date();\n      var formattedTime = \" @ \" + (pad(time.getHours(), 2)) + \":\" + (pad(time.getMinutes(), 2)) + \":\" + (pad(time.getSeconds(), 2)) + \".\" + (pad(time.getMilliseconds(), 3));\n      var formattedMutation = mutationTransformer(mutation);\n      var message = \"mutation \" + (mutation.type) + formattedTime;\n      var startMessage = collapsed\n        ? console.groupCollapsed\n        : console.group;\n\n      // render\n      try {\n        startMessage.call(console, message);\n      } catch (e) {\n        console.log(message);\n      }\n\n      console.log('%c prev state', 'color: #9E9E9E; font-weight: bold', transformer(prevState));\n      console.log('%c mutation', 'color: #03A9F4; font-weight: bold', formattedMutation);\n      console.log('%c next state', 'color: #4CAF50; font-weight: bold', transformer(nextState));\n\n      try {\n        console.groupEnd();\n      } catch (e) {\n        console.log('—— log end ——');\n      }\n\n      prevState = nextState;\n    });\n  }\n}\n\nfunction repeat (str, times) {\n  return (new Array(times + 1)).join(str)\n}\n\nfunction pad (num, maxLength) {\n  return repeat('0', maxLength - num.toString().length) + num\n}\n\nreturn createLogger;\n\n})));\n"]}