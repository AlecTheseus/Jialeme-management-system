{"version":3,"sources":["prettyPrint.js"],"names":[],"mappings":"AAAA,SAAS,cAAT,CAAwB,OAAxB,EAAiC,WAAjC,EAA8C;AAC5C,MAAI,mBAAmB,SAAnB,gBAAmB,CAAS,GAAT,EAAc;AACnC,QAAG,IAAI,OAAJ,CAAY,GAAZ,KAAoB,CAAvB,EAA0B;AACxB,aAAO,QAAQ,QAAR,CAAiB,IAAI,OAAJ,CAAY,GAAZ,EAAiB,EAAjB,CAAjB,CAAP;AACD;AACD,WAAO,GAAP;AACD,GALD;;AAOA,SAAO,YAAY,IAAZ,GAAmB,IAAnB,GAA0B,iBAAiB,YAAY,GAA7B,CAA1B,GAA8D,GAArE;AACD;;AAED,SAAS,WAAT,CAAqB,OAArB,EAA8B,QAA9B,EAAwC,KAAxC,EAA+C;AAC7C,MAAI,WAAW,SAAS,QAAxB;AAAA,MACI,cAAe,SAAS,MAAM,MAAhB,IAA2B,EAD7C;AAAA,MAEI,gBAAgB,cAAc,IAFlC;AAAA,MAGI,sBAAuB,SAAS,MAAM,QAAhB,GAA4B,MAAM,QAAN,GAAiB,GAA7C,GAAmD,EAH7E;AAAA,MAII,kBAAkB,sBAAsB,QAJ5C;AAAA,MAKI,YAAY,SAAS,SALzB;AAAA,MAMI,aAAa,SAAS,UAN1B;AAAA,MAOI,SAAS,SAAS,MAPtB;AAAA,MAQI,WAAW,SAAS,QARxB;AAAA,MASI,MAAM,cAAc,eATxB;;AAWA,MAAI,iBAAiB,SAAjB,cAAiB,CAAS,YAAT,EAAuB;AAC1C,iBAAa,OAAb,CAAqB,UAAS,WAAT,EAAsB;AACzC,UAAI,QAAQ,QAAQ,QAAR,CAAiB,WAAjB,CAAZ;;AAIA,YAAM,UAAN,CAAiB,OAAjB,CAAyB,UAAS,QAAT,EAAmB;AAC1C,mBAAW,IAAX,CAAgB,QAAhB;AACD,OAFD;AAGA,YAAM,MAAN,CAAa,OAAb,CAAqB,UAAS,KAAT,EAAgB;AACnC,eAAO,IAAP,CAAY,KAAZ;AACD,OAFD;AAGA,qBAAe,MAAM,QAArB;AACD,KAZD;AAaD,GAdD;AAeA,iBAAe,QAAf;;AAEA,YAAU,OAAV,CAAkB,UAAS,GAAT,EAAc;AAC9B,WAAO,QAAQ,WAAR,GAAsB,mBAAtB,GAA4C,GAAnD;AACD,GAFD;;AAIA,SAAO,MAAP;;AAEA,aAAW,OAAX,CAAmB,UAAS,QAAT,EAAmB;AACpC,WAAO,gBAAgB,eAAe,OAAf,EAAwB,QAAxB,CAAhB,GAAoD,IAA3D;AACD,GAFD;;AAIA,SAAO,cAAc,KAArB;;AAEA,SAAO,OAAP,CAAe,UAAS,KAAT,EAAgB;AAC7B,WAAO,YAAY,OAAZ,EAAqB,KAArB,EAA4B;AACjC,cAAQ,aADyB;AAEjC,gBAAU;AAFuB,KAA5B,CAAP;AAID,GALD;;AAOA,SAAO,GAAP;AACD;;AAED,SAAS,UAAT,CAAoB,OAApB,EAA6B;AAC3B,MAAI,SAAS,QAAQ,MAArB;AAAA,MACI,MAAM,EADV;;AAGA,SAAO,OAAP,CAAe,UAAS,KAAT,EAAgB;AAC7B,WAAO,YAAY,OAAZ,EAAqB,KAArB,CAAP;AACA,WAAO,IAAP;AACD,GAHD;;AAKA,SAAO,GAAP;AACD;;AAED,SAAS,MAAT,CAAgB,MAAhB,EAAwB,QAAxB,EAAkC;AAChC,MAAI,GAAJ;AACA,MAAI;AACF,UAAM,WAAW,MAAX,CAAN;AACA,aAAS,IAAT,EAAe,GAAf;AACD,GAHD,CAIA,OAAM,EAAN,EAAU;AACR,aAAS,EAAT;AACD;AACF;;AAGD,OAAO,OAAP,CAAe,MAAf,GAAwB,MAAxB","file":"prettyPrint-compiled.js","sourcesContent":["function renderProperty(fileObj, propertyObj) {\n  var getPropertyValue = function(val) {\n    if(val.indexOf('$') == 0) {\n      return fileObj.getValue(val.replace('$', ''));\n    }\n    return val;\n  };\n\n  return propertyObj.name + ': ' + getPropertyValue(propertyObj.val) + ';';\n};\n\nfunction renderBlock(fileObj, blockObj, scope) {\n  var selector = blockObj.selector,\n      scopeIndent = (scope && scope.indent) || '',\n      currentIndent = scopeIndent + '  ',\n      paddedScopeSelector = (scope && scope.selector) ? scope.selector + ' ' : '',\n      currentSelector = paddedScopeSelector + selector,\n      selectors = blockObj.selectors,\n      properties = blockObj.properties,\n      blocks = blockObj.blocks,\n      includes = blockObj.includes,\n      css = scopeIndent + currentSelector;\n  \n  var expandIncludes = function(includeNames) {\n    includeNames.forEach(function(includeName) {\n      var mixin = fileObj.getMixin(includeName);\n      //Why doesn't .concat() work?\n      //properties.concat(mixin.properties);\n      //blocks.concat(mixin.blocks);\n      mixin.properties.forEach(function(property) {\n        properties.push(property);\n      });\n      mixin.blocks.forEach(function(block) {\n        blocks.push(block);\n      });\n      expandIncludes(mixin.includes);\n    });\n  };\n  expandIncludes(includes);\n\n  selectors.forEach(function(sel) {\n    css += ',\\n' + scopeIndent + paddedScopeSelector + sel;\n  });\n\n  css += ' {\\n';\n\n  properties.forEach(function(property) {\n    css += currentIndent + renderProperty(fileObj, property) + '\\n';\n  });\n\n  css += scopeIndent + '}\\n';\n\n  blocks.forEach(function(block) {\n    css += renderBlock(fileObj, block, {\n      indent: currentIndent,\n      selector: currentSelector\n    });\n  });\n\n  return css;\n};\n\nfunction renderFile(fileObj) {\n  var blocks = fileObj.blocks,\n      css = '';\n\n  blocks.forEach(function(block) {\n    css += renderBlock(fileObj, block);\n    css += '\\n';\n  });\n\n  return css;\n};\n\nfunction render(cssObj, callback) {\n  var css;\n  try {\n    css = renderFile(cssObj);\n    callback(null, css)\n  }\n  catch(ex) {\n    callback(ex);\n  }\n};\n\n\nmodule.exports.render = render;\n"]}