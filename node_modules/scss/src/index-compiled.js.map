{"version":3,"sources":["index.js"],"names":[],"mappings":"AAAA,IAAI,MAAM,QAAQ,KAAR,CAAV;AAAA,IACI,KAAK,QAAQ,IAAR,CADT;AAAA,IAEI,OAAO,QAAQ,MAAR,CAFX;AAAA,IAGI,QAAQ,QAAQ,OAAR,CAHZ;AAAA,IAII,OAAO,UAJX;AAAA,IAKI,aALJ;;AAQA,IAAI,cAAc,SAAd,WAAc,CAAS,OAAT,EAAkB;AAClC,SAAO,QAAQ,KAAR,CAAc,CAAd,EAAiB,OAAjB,CAAyB,MAAzB,EAAiC,IAAjC,CAAP;AACD,CAFD;;AAIA,IAAI,YAAY,SAAZ,SAAY,CAAS,QAAT,EAAmB;AACjC,MAAG,CAAC,aAAJ,EAAmB;AACjB,OAAG,QAAH,CAAY,KAAK,IAAL,CAAU,SAAV,EAAqB,oBAArB,CAAZ,EAAwD,MAAxD,EAAgE,UAAS,GAAT,EAAc,mBAAd,EAAmC;AACjG,UAAI,eAAe,YAAY,mBAAZ,CAAnB;AACA,YAAM,YAAN,CAAmB,YAAnB,EAAiC,UAAS,GAAT,EAAc,iBAAd,EAAiC;AAChE,WAAG,QAAH,CAAY,KAAK,IAAL,CAAU,SAAV,EAAqB,aAArB,CAAZ,EAAiD,MAAjD,EAAyD,UAAS,GAAT,EAAc,QAAd,EAAwB;AAC/E,cAAI,cAAc,YAAY,QAAZ,CAAlB;AACA,cAAG,GAAH,EAAQ;AACN,qBAAS,GAAT;AACD,WAFD,MAEO;AACL,kBAAM,YAAN,CAAmB,WAAnB,EAAgC,UAAS,GAAT,EAAc,MAAd,EAAsB;AACpD,kBAAG,GAAH,EAAQ;AACN,yBAAS,GAAT;AACD,eAFD,MAEO;AACL,gCAAgB,MAAhB;AACA,yBAAS,IAAT,EAAe,aAAf;AACD;AACF,aAPD;AAQD;AACF,SAdD;AAeD,OAhBD;AAiBD,KAnBD;AAoBD,GArBD,MAqBO;AACL,aAAS,IAAT,EAAe,aAAf;AACD;AACF,CAzBD;;AA2BA,IAAI,QAAQ,SAAR,KAAQ,CAAS,QAAT,EAAmB,QAAnB,EAA6B;AACvC,YAAU,UAAS,GAAT,EAAc,MAAd,EAAsB;AAC9B,QAAG,GAAH,EAAQ;AACN,eAAS,GAAT;AACD,KAFD,MAEO;AACL,aAAO,KAAP,CAAa,QAAb,EAAuB,IAAvB,EAA6B,UAAS,GAAT,EAAc,GAAd,EAAmB;AAC9C,gBAAQ,YAAY,cAApB,EAAoC,MAApC,CAA2C,GAA3C,EAAgD,UAAS,KAAT,EAAgB,OAAhB,EAAyB;AACvE,mBAAS,GAAT,EAAc,OAAd;AACD,SAFD;AAGD,OAJD;AAKD;AACF,GAVD;AAWD,CAZD;;AAeA,OAAO,OAAP,CAAe,KAAf,GAAuB,KAAvB","file":"index-compiled.js","sourcesContent":["var sys = require('sys')\n  , fs = require('fs')\n  , path = require('path')\n  , ometa = require('ometa')\n  , rule = 'scssFile'\n  , createdParser\n  ;\n\nvar fixReadFile = function(rawFile) {\n  return rawFile.slice(1).replace(/\\\\n/g, '\\n');\n};\n\nvar getParser = function(callback) {\n  if(!createdParser) {\n    fs.readFile(path.join(__dirname, '/CssSelector.ometa'), 'utf8', function(err, cssSelectorContents) {\n      var selectorFile = fixReadFile(cssSelectorContents); \n      ometa.createParser(selectorFile, function(err, cssSelectorParser) {\n        fs.readFile(path.join(__dirname, '/scss.ometa'), 'utf8', function(err, contents) {\n          var contentFile = fixReadFile(contents); \n          if(err) {\n            callback(err);\n          } else {\n            ometa.createParser(contentFile, function(err, parser) {\n              if(err) {\n                callback(err);\n              } else {\n                createdParser = parser;\n                callback(null, createdParser);\n              }\n            });\n          }\n        });\n      });\n    });\n  } else {\n    callback(null, createdParser);\n  }\n};\n\nvar parse = function(scssFile, callback) {\n  getParser(function(err, parser) {\n    if(err) {\n      callback(err);\n    } else {\n      parser.parse(scssFile, rule, function(err, css) {\n        require(__dirname + '/prettyPrint').render(css, function(inner, printed) {\n          callback(err, printed);\n        });\n      });\n    }\n  });\n};\n\n\nmodule.exports.parse = parse;\n"]}